(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,319,e=>{"use strict";var t=e.i(2102),l=e.i(68110);function r({ref:e}){let r=(0,l.useRef)(null),i=(0,l.useRef)(null);return(0,l.useImperativeHandle)(e,()=>({hide:()=>new Promise(e=>{setTimeout(()=>{r.current?.remove(),e()},1500)})}),[]),(0,l.useEffect)(()=>{if(r.current?.addEventListener("wheel",e=>{e.preventDefault(),e.stopPropagation()}),document.body.appendChild(r.current),i.current){let t=[[-5,5],[5,5],[5,-5]],l=[[10,4],[10,5],[14,10]],r=([e,t])=>1589*t*4+4*e;function e(t,l="-+"){return"-+"==l?Math.floor(Math.random()*(2*t+1))-t:"-"==l?-Math.floor(Math.random()*t):Math.floor(Math.random()*t)}let n=i.current.getContext("2d");i.current.width=1589,i.current.height=440;let s=new Image;s.src="/core.png";let a=0,d=()=>{if(n&&0==a){n.clearRect(0,0,1589,440),n.drawImage(s,50,50,1489,340);let i=n.getImageData(0,0,1589,440),a=i.data,d=l.map(([t,l])=>[e(t),e(l)]),o=[e(15,"-"),e(0,"-")],c=e=>{let t,l,r;return t=a[e],l=a[e+1],r=a[e+2],0===t&&0===l&&0===r};for(let l=0;l<a.length;l+=4){l%1589==0&&(o[0]=e(15,"-"));let i=a[l],n=a[l+1],s=a[l+2],u=255===i&&255===n&&255===s,h=r([o[0],o[1]]);u&&c(l+h)&&(a[l]=0,a[l+1]=0,a[l+2]=0,a[l+3]=0,a[l+h]=255,a[l+h+1]=255,a[l+h+2]=255,a[l+h+3]=255),t.map((e,t)=>r([e[0]+d[t][0],e[1]+d[t][1]]))}n.putImageData(i,0,0)}a=(a+1)%3,requestAnimationFrame(d)};s.onload=()=>{requestAnimationFrame(d)}}},[]),(0,t.jsx)("div",{className:"loading-mask",ref:r,children:(0,t.jsx)("canvas",{ref:i})})}e.s(["default",()=>r])},32195,e=>{e.v({article:"page-module__TauQta__article",content:"page-module__TauQta__content",header:"page-module__TauQta__header"})},65906,e=>{e.v({description:"index-module__1ChrBG__description",gallery:"index-module__1ChrBG__gallery",info:"index-module__1ChrBG__info",latlng:"index-module__1ChrBG__latlng",lost:"index-module__1ChrBG__lost",photo:"index-module__1ChrBG__photo",position:"index-module__1ChrBG__position",text:"index-module__1ChrBG__text",thumbnail:"index-module__1ChrBG__thumbnail",title:"index-module__1ChrBG__title",title2:"index-module__1ChrBG__title2"})},20514,e=>{e.v({backTip:"index-module__PBlJnq__backTip",cardBox:"index-module__PBlJnq__cardBox",cardFront:"index-module__PBlJnq__cardFront",cardRear:"index-module__PBlJnq__cardRear",closeBtn:"index-module__PBlJnq__closeBtn",img:"index-module__PBlJnq__img",maskLayer:"index-module__PBlJnq__maskLayer",pattern:"index-module__PBlJnq__pattern",refraction:"index-module__PBlJnq__refraction",set:"index-module__PBlJnq__set",spotlight:"index-module__PBlJnq__spotlight",srOnly:"index-module__PBlJnq__srOnly",tip:"index-module__PBlJnq__tip"})},49502,e=>{"use strict";var t=e.i(2102),l=e.i(68110),r=e.i(319),i=e.i(95408),n=e.i(32195),s=e.i(65906),a=e.i(55470),d=e.i(57604),o=e.i(20514),c=e.i(57769);function u({ref:e}){let r=(0,l.useRef)(null),i=(0,l.useRef)(null),n=(0,l.useRef)(null),s=(0,l.useRef)(null),[u,h]=(0,l.useState)(),m=()=>new Promise(e=>{a.gsap.to(r.current,{autoAlpha:0,duration:.6,pointerEvents:"none",onComplete(){n.current.dataset.pressed="false",a.gsap.to(i.current,{scale:1,duration:0}),e(1)}})}),p=()=>{"true"==n.current.dataset.pressed?n.current.dataset.pressed="false":n.current.dataset.pressed="true"};return(0,l.useImperativeHandle)(e,()=>({show(e){(0,d.flushSync)(()=>{h(e)}),s.current.onload=()=>{let e=s.current.naturalWidth,t=e/s.current.naturalHeight;e>.8*window.innerWidth?.8*window.innerHeight*t>.8*window.innerWidth?a.gsap.set(n.current,{width:.8*window.innerWidth,height:.8*window.innerWidth/t}):a.gsap.set(n.current,{width:.8*window.innerHeight*t,height:.8*window.innerHeight}):.8*window.innerHeight*t>.8*window.innerWidth?a.gsap.set(n.current,{width:.8*window.innerHeight*t,height:.8*window.innerHeight}):a.gsap.set(n.current,{width:.8*window.innerWidth,height:.8*window.innerWidth/t})},c.Draggable.create(i.current,{bounds:r.current,onClick:p}),new Promise(e=>{a.gsap.to(r.current,{autoAlpha:1,duration:.6,pointerEvents:"auto",onComplete(){e(1)}})})},async hide(){await m()}}),[]),(0,l.useEffect)(()=>{let e=e=>{i.current&&(e.preventDefault(),e.stopPropagation(),a.gsap.to(i.current,{scale:()=>{let t=a.gsap.getProperty(i.current,"scale"),l=e.deltaY>0?-Math.abs(e.deltaY)/400:Math.abs(e.deltaY)/400;return a.gsap.utils.clamp(.5,4,t+l)},duration:.6,ease:"power2.out",overwrite:"auto"}))};r.current?.addEventListener("wheel",e),document.body.appendChild(r.current);let t=({x:e,y:t})=>{let l=s.current?.getBoundingClientRect();if(l){let i=e-l.x,n=t-l.y,s=i/l.width-.5,d=n/l.height-.5,o=a.gsap.utils.clamp(-1,1,2*s).toFixed(2),c=a.gsap.utils.clamp(-1,1,2*d).toFixed(2);a.gsap.set(r.current,{"--pointer-x":o,"--pointer-y":c})}};return document.addEventListener("pointermove",t),()=>{document.removeEventListener("pointermove",t),r.current?.removeEventListener("wheel",e)}},[]),(0,t.jsxs)("div",{ref:r,className:o.default.maskLayer,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:o.default.closeBtn,width:"30px",height:"30px",viewBox:"0 0 24 24",onClick:m,children:[(0,t.jsx)("path",{fill:"currentColor",d:"M20.48 3.512a11.97 11.97 0 0 0-8.486-3.514C5.366-.002-.007 5.371-.007 11.999c0 3.314 1.344 6.315 3.516 8.487A11.97 11.97 0 0 0 11.995 24c6.628 0 12.001-5.373 12.001-12.001c0-3.314-1.344-6.315-3.516-8.487m-1.542 15.427a9.8 9.8 0 0 1-6.943 2.876c-5.423 0-9.819-4.396-9.819-9.819a9.8 9.8 0 0 1 2.876-6.943a9.8 9.8 0 0 1 6.942-2.876c5.422 0 9.818 4.396 9.818 9.818a9.8 9.8 0 0 1-2.876 6.942z"}),(0,t.jsx)("path",{fill:"currentColor",d:"m13.537 12l3.855-3.855a1.091 1.091 0 0 0-1.542-1.541l.001-.001l-3.855 3.855l-3.855-3.855A1.091 1.091 0 0 0 6.6 8.145l-.001-.001l3.855 3.855l-3.855 3.855a1.091 1.091 0 1 0 1.541 1.542l.001-.001l3.855-3.855l3.855 3.855a1.091 1.091 0 1 0 1.542-1.541l-.001-.001z"})]}),(0,t.jsx)("div",{ref:i,children:(0,t.jsx)("div",{ref:n,className:o.default.cardBox,children:u?.url&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:o.default.cardFront,children:(0,t.jsx)("img",{ref:s,src:u?.url,className:o.default.img,alt:""})}),(0,t.jsxs)("div",{className:o.default.cardRear,children:[(0,t.jsxs)("div",{className:o.default.pattern,children:[(0,t.jsx)("div",{className:o.default.refraction}),(0,t.jsx)("div",{className:o.default.refraction})]}),(0,t.jsx)("div",{className:o.default.backTip,children:(0,t.jsx)("div",{className:o.default.tip,id:"tipText",children:u?.tip})}),(0,t.jsx)("div",{className:o.default.spotlight})]}),(0,t.jsx)("svg",{className:o.default.srOnly,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"lighting",children:[(0,t.jsx)("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2",result:"blur"}),(0,t.jsx)("feSpecularLighting",{result:"lighting",in:"blur",surfaceScale:"8",specularConstant:"12",specularExponent:"120",lightingColor:"hsl(0 0% 6%)",children:(0,t.jsx)("fePointLight",{x:"50",y:"50",z:"300"})}),(0,t.jsx)("feComposite",{in:"lighting",in2:"SourceAlpha",operator:"in",result:"composite"}),(0,t.jsx)("feComposite",{in:"SourceGraphic",in2:"composite",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0",result:"litPaint"})]}),(0,t.jsxs)("filter",{id:"sticker",children:[(0,t.jsx)("feMorphology",{in:"SourceAlpha",result:"dilate",operator:"dilate",radius:"2"}),(0,t.jsx)("feFlood",{floodColor:"hsl(0 0% 100%)",result:"outlinecolor"}),(0,t.jsx)("feComposite",{in:"outlinecolor",in2:"dilate",operator:"in",result:"outlineflat"}),(0,t.jsxs)("feMerge",{result:"merged",children:[(0,t.jsx)("feMergeNode",{in:"outlineflat"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]})}),(0,t.jsx)("svg",{style:{width:"100%",height:"100%"},xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsxs)("defs",{children:[(0,t.jsx)("pattern",{id:"watermarkPattern",patternUnits:"userSpaceOnUse",width:"380",height:"300",patternTransform:"rotate(-26)",children:(0,t.jsx)("image",{href:"/svg/Canon_wordmark.svg",x:"0",y:"0",width:"260",height:"160",preserveAspectRatio:"xMidYMid meet"})}),(0,t.jsx)("mask",{id:"watermark",children:(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#watermarkPattern)"})})]})})]})})})]})}function h({album:e,onReady:r}){let[i,n]=(0,l.useState)([]),[o,c]=(0,l.useState)(0),h=(0,l.useRef)(o);(0,l.useEffect)(()=>{h.current=o});let m=(0,l.useRef)(null),p=(0,l.useRef)([]),g=(0,l.useRef)(null);return(0,l.useEffect)(()=>{e&&fetch(`https://trick.dongzx.lol/config/${e}.txt`,{cache:"no-cache"}).then(async e=>{let t=(await e.text()).split("\n"),l=[];for(let e=0;e<t.length;e+=8){let[r,i,n,s,a,d,o,c]=t.slice(e,e+8);l.push({id:e/8,url:r,bgPos:i,position:n,title:s,title2:a,latlng:d,description:o,tip:c})}n(l),r?.()})},[]),(0,l.useEffect)(()=>{let e=setInterval(()=>{var e;let t,l;e=(h.current+1)%i.length,(t=a.gsap.timeline()).to(p.current[e],{duration:.8,top:"0",right:"0",width:"100%",height:"100%",boxShadow:"none",backgroundPosition:i[e].bgPos,onStart:()=>{},onComplete:()=>{}},0),l=p.current.filter(t=>t!==p.current[e]),t.to(l,{duration:.6,translateX:"-110%",onStart:()=>{a.gsap.set(l,{clearProps:"translateX"})}},0),t.then(()=>{(0,d.flushSync)(()=>{c(e),t.revert(),t.clear(),t.kill(),a.gsap.set(p.current[e],{clearProps:"width,height,top,right,boxShadow,backgroundPosition"}),a.gsap.set(l,{clearProps:"transform"}),p.current[e].style.zIndex="1"})})},8e3);return()=>{clearInterval(e)}},[i]),i.length>0&&void 0!=o?(0,t.jsxs)("div",{ref:m,className:s.default.gallery,style:{"--img":`url(${i[o].url})`,"--bgPos":i[o].bgPos},children:[(0,t.jsx)("div",{className:s.default.thumbnail,children:[...i.slice(o+1),...i.slice(0,o)].map((e,l)=>(0,t.jsxs)("div",{ref:t=>{t&&(p.current[e.id]=t)},className:s.default.photo,style:{"--img":`url(${e.url})`,"--idx":l},onClick:()=>{var t;return t=e.id,void(p.current[t]&&g.current?.show(i[t]))},children:[(0,t.jsx)("div",{className:s.default.position,children:e.position}),(0,t.jsx)("div",{className:s.default.title,children:e.title}),(0,t.jsx)("div",{className:s.default.title2,children:e.title2})]},l))}),(0,t.jsxs)("div",{className:s.default.info,children:[(0,t.jsxs)("a",{className:s.default.position,href:`https://www.google.com/maps?q=${i[o].latlng}`,target:"_blank",children:[(0,t.jsx)("div",{className:s.default.latlng,style:{marginRight:"1em"},children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 100 100",children:[(0,t.jsx)("path",{fill:"currentColor",d:"M50.001 0C33.65 0 20.25 13.36 20.25 29.666c0 6.318 2.018 12.19 5.433 17.016L46.37 82.445c2.897 3.785 4.823 3.066 7.232-.2l22.818-38.83c.46-.834.822-1.722 1.137-2.629a29.3 29.3 0 0 0 2.192-11.12C79.75 13.36 66.354 0 50.001 0m0 13.9c8.806 0 15.808 6.986 15.808 15.766S58.807 45.43 50.001 45.43c-8.805 0-15.81-6.982-15.81-15.763S41.196 13.901 50 13.901"}),(0,t.jsx)("path",{fill:"currentColor",d:"m68.913 48.908l-.048.126l.042-.115zm-5.065 24.446l-1.383 1.71c1.87.226 3.68.491 5.375.812l-5.479 1.623l7.313 1.945l5.451-1.719c3.348 1.123 7.984 2.496 9.52 4.057h-10.93l1.086 3.176h11.342c-.034 1.79-3.234 3.244-6.29 4.422l-7.751-1.676l-7.303 2.617l7.8 1.78c-4.554 1.24-12.2 1.994-18.53 2.341l-.266-3.64h-7.606l-.267 3.64c-6.33-.347-13.975-1.1-18.53-2.34l7.801-1.781l-7.303-2.617l-7.752 1.676c-3.012-.915-6.255-2.632-6.289-4.422H25.2l1.086-3.176h-10.93c1.536-1.561 6.172-2.934 9.52-4.057l5.451 1.719l7.313-1.945l-5.479-1.623a83 83 0 0 1 5.336-.807l-1.363-1.713c-14.785 1.537-27.073 4.81-30.295 9.979C.7 91.573 19.658 99.86 49.37 99.989c.442.022.878.006 1.29 0c29.695-.136 48.636-8.42 43.501-16.654c-3.224-5.171-15.52-8.445-30.314-9.981",color:"currentColor"})]})}),i[o].position]}),(0,t.jsx)("div",{className:s.default.title,children:i[o].title}),(0,t.jsx)("div",{className:s.default.title2,children:i[o].title2}),(0,t.jsx)("div",{className:s.default.description,children:i[o].description})]}),(0,t.jsx)(u,{ref:g})]}):(0,t.jsx)("div",{className:`${s.default.gallery} ${s.default.lost}`,children:(0,t.jsx)("div",{className:s.default.text,children:"Oops..."})})}a.gsap.registerPlugin(c.Draggable);class m{promise;resolve;reject;constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}function p(){let e=(0,l.useRef)(null),s=new m,a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(0,i.whenDOMReady)().then(()=>{s.promise.then(()=>{e.current?.hide()})})}),(0,t.jsxs)("div",{className:n.default.article,children:[(0,t.jsx)(u,{ref:a}),(0,t.jsx)("div",{className:n.default.header,children:(0,t.jsx)(h,{album:"jp",onReady:()=>s.resolve()})}),(0,t.jsxs)("article",{className:n.default.content,children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)("a",{href:"#Day1",className:"headerlink",title:"Day1"}),"Day1"]}),(0,t.jsxs)("h3",{children:[(0,t.jsx)("a",{href:"#南京禄口机场",className:"headerlink",title:"南京禄口机场"}),"南京禄口机场"]}),(0,t.jsxs)("section",{className:"emp",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("img",{src:"https://pan.dongzx.lol/api/v4/file/content/7xAs1/0/IMG_2980.JPG?sign=BQiYb3K36N89d2ma3gQTeeSBm-kugx5RHq4VPMqdp44%3D%3A0",onClick:()=>a.current?.show({id:1,url:"https://pan.dongzx.lol/api/v4/file/content/7xAs1/0/IMG_2980.JPG?sign=BQiYb3K36N89d2ma3gQTeeSBm-kugx5RHq4VPMqdp44%3D%3A0",bgPos:"center",position:"",title:"南京禄口机场",title2:"",latlng:"",description:"",tip:""}),alt:""}),"计划了半年的出行计划终于如约而至了，一切都已经准备就绪。一下班便急冲冲的冲向地铁，园区站出发，目标：东京。这是个漫长的旅途，哥几个先到桌游店玩一晚上，凌晨去赶飞机。",(0,t.jsx)("span",{className:"shy-block",children:"此处过程不想回忆，因为我第一次打线下德扑，一晚上输了一千块。"})]}),(0,t.jsx)("p",{children:"凌晨时分，随着日出，我们拿着登机牌，值完机，迎着朝阳踏进飞往11区的登机走廊。"})]}),(0,t.jsxs)("h3",{children:[(0,t.jsx)("a",{href:"#在天上",className:"headerlink",title:"在天上"}),"在天上"]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("p",{children:"飞机上，我们讨论着三天的行程，没一会便困意涌现。"}),(0,t.jsx)("p",{children:"通宵带来的困意就丢在这平流层，一切都在我们的计划之中。但是旁边三个女的实在是聒噪，硬是在那叫了三个小时，一会哈哈大笑，一会惊叫吵闹，一会又开始往脸上咔咔拍粉。硬控我三个小时，所以说计划赶不上变化呢。"})]})]}),(0,t.jsx)(r.default,{ref:e})]})}e.s(["default",()=>p],49502)}]);